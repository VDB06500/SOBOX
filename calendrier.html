<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Réservation Borne Selfie</title>
<style>
/* Reset and base */
* {
box-sizing: border-box;
}
body {
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
background: #f0f2f5;
margin: 0;
padding: 20px;
color: #333;
}
h1 {
text-align: center;
color: #222;
margin-bottom: 20px;
}
/* Calendar container */
.calendar {
max-width: 420px;
margin: 0 auto 30px auto;
background: white;
border-radius: 12px;
box-shadow: 0 2px 10px rgb(0 0 0 / 0.1);
padding: 20px;
}
/* Header for month and navigation */
.calendar-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 15px;
}
.calendar-header button {
background: #4a90e2;
border: none;
color: white;
font-weight: 600;
padding: 8px 15px;
border-radius: 8px;
cursor: pointer;
user-select: none;
transition: background 0.3s ease;
}
.calendar-header button:hover {
background: #357abc;
}
.calendar-header .month-year {
font-size: 1.25rem;
font-weight: 700;
color: #222;
}
/* Weekdays row */
.weekdays {
display: grid;
grid-template-columns: repeat(7, 1fr);
text-align: center;
font-weight: 600;
color: #555;
padding-bottom: 10px;
border-bottom: 2px solid #ececec;
}
/* Days grid */
.days {
display: grid;
grid-template-columns: repeat(7, 1fr);
text-align: center;
gap: 8px;
margin-top: 10px;
}
.day {
padding: 12px 0;
border-radius: 8px;
cursor: pointer;
user-select: none;
font-weight: 600;
color: #444;
transition: background 0.3s ease, color 0.3s ease;
}
.day:hover {
background: #d4e6fd;
color: #1a73e8;
}
.day.not-current-month {
color: #bbb;
cursor: default;
}
.day.unavailable {
background: #ff6b6b;
color: white;
cursor: default;
font-weight: 700;
}
.day.unavailable:hover {
background: #ff4c4c;
}
.day.selected {
background: #4a90e2;
color: white;
font-weight: 700;
box-shadow: 0 0 8px #4a90e2aa;
}
/* Form container */
.reservation-form-container {
max-width: 500px;
margin: 0 auto;
background: white;
border-radius: 12px;
box-shadow: 0 2px 12px rgb(0 0 0 / 0.1);
padding: 25px;
}
form {
display: flex;
flex-direction: column;
}
label {
font-weight: 600;
margin-top: 15px;
margin-bottom: 6px;
color: #222;
}
input[type="text"],
input[type="email"],
input[type="tel"],
input[type="date"],
select {
padding: 10px 12px;
font-size: 1rem;
border: 1.5px solid #ccc;
border-radius: 8px;
transition: border-color 0.3s ease;
}
input[type="text"]:focus,
input[type="email"]:focus,
input[type="tel"]:focus,
input[type="date"]:focus,
select:focus {
outline: none;
border-color: #4a90e2;
}
button.submit-btn {
margin-top: 25px;
background: #4a90e2;
border: none;
color: white;
padding: 14px 0;
font-weight: 700;
font-size: 1rem;
border-radius: 10px;
cursor: pointer;
user-select: none;
transition: background 0.3s ease;
}
button.submit-btn:hover {
background: #357abc;
}
/* Responsive */
@media (max-width: 600px) {
.calendar, .reservation-form-container {
width: 95%;
padding: 15px;
}
}
</style>
</head>
<body>
<h1>Réservation Borne Selfie</h1>
<div class="calendar" aria-label="Calendrier de réservation">
<div class="calendar-header">
<button type="button" id="prevMonth" aria-label="Mois précédent">&#9664;</button>
<div class="month-year" id="monthYear"></div>
<button type="button" id="nextMonth" aria-label="Mois suivant">&#9654;</button>
</div>
<div class="weekdays" aria-hidden="true">
<div>Dim</div>
<div>Lun</div>
<div>Mar</div>
<div>Mer</div>
<div>Jeu</div>
<div>Ven</div>
<div>Sam</div>
</div>
<div class="days" id="daysGrid" role="grid" aria-live="polite"></div>
</div>

<div class="reservation-form-container" id="reservationFormContainer" style="display:none;">
<h2>Formulaire de réservation</h2>
<form id="reservationForm" novalidate>
<label for="lastname">Nom *</label>
<input type="text" id="lastname" name="lastname" required placeholder="Votre nom" />
<label for="firstname">Prénom *</label>
<input type="text" id="firstname" name="firstname" required placeholder="Votre prénom" />
<label for="email">Email *</label>
<input type="email" id="email" name="email" required placeholder="exemple@mail.com" />
<label for="phone">Téléphone *</label>
<input type="tel" id="phone" name="phone" required placeholder="+33 6 12 34 56 78" pattern="^\\+?\\d{6,15}$" />
<label for="date">Date sélectionnée *</label>
<input type="date" id="date" name="date" readonly />
<label for="location">Lieu *</label>
<input type="text" id="location" name="location" required placeholder="Lieu de réservation" />
<label for="package">Forfait *</label>
<select id="package" name="package" required>
<option value="" disabled selected>Choisissez un forfait</option>
<option value="Basic">Basic - 10 photos</option>
<option value="Pro">Pro - 25 photos + accessoires</option>
<option value="Premium">Premium - 50 photos + accessoires + animations</option>
</select>
<button type="submit" class="submit-btn">Réserver</button>
</form>
</div>

<script>
(function(){
const daysGrid = document.getElementById('daysGrid');
const monthYear = document.getElementById('monthYear');
const prevMonthBtn = document.getElementById('prevMonth');
const nextMonthBtn = document.getElementById('nextMonth');
const resFormContainer = document.getElementById('reservationFormContainer');
const reservationForm = document.getElementById('reservationForm');
const dateInput = document.getElementById('date');

// Unavailable dates - format YYYY-MM-DD
const unavailableDates = [
'2024-06-10', '2024-06-15', '2024-06-22',
'2024-07-04', '2024-07-05', '2024-07-12',
'2024-07-20'
];

let currentDate = new Date();
currentDate.setDate(1); // set to first day of month
let selectedDate = null;

function formatDate(date) {
const y = date.getFullYear();
const m = (date.getMonth() + 1).toString().padStart(2,'0');
const d = date.getDate().toString().padStart(2,'0');
return `${y}-${m}-${d}`;
}

function isUnavailable(date) {
return unavailableDates.includes(formatDate(date));
}

function createDayElement(dayNum, dateObj, isCurrentMonth) {
const div = document.createElement('div');
div.className = 'day';
if (!isCurrentMonth) div.classList.add('not-current-month');

const dayDateStr = formatDate(dateObj);
if (isUnavailable(dateObj) || dateObj < new Date(new Date().setHours(0,0,0,0))) {
div.classList.add('unavailable');
}
if (selectedDate === dayDateStr) {
div.classList.add('selected');
}
div.textContent = dayNum;
if (!div.classList.contains('unavailable') && isCurrentMonth) {
div.tabIndex = 0;
div.setAttribute('role', 'button');
div.setAttribute('aria-label', `Sélectionner la date ${dayDateStr}`);
div.addEventListener('click', () => {
selectedDate = dayDateStr;
updateCalendar();
showReservationForm(selectedDate);
});
div.addEventListener('keydown', (e) => {
if (e.key === 'Enter' || e.key === ' ') {
e.preventDefault();
div.click();
}
});
}
return div;
}

function updateCalendar() {
daysGrid.innerHTML = '';

const year = currentDate.getFullYear();
const month = currentDate.getMonth();

const firstDayIndex = new Date(year, month, 1).getDay(); // Sunday=0
const lastDay = new Date(year, month+1, 0).getDate();

const prevLastDate = new Date(year, month, 0).getDate();

monthYear.textContent = currentDate.toLocaleDateString('fr-FR', {year: 'numeric', month: 'long'});

// Fill days from previous month
for(let x = firstDayIndex - 1; x >= 0; x--) {
const d = new Date(year, month-1, prevLastDate - x);
daysGrid.appendChild(createDayElement(d.getDate(), d, false));
}
// Fill current month days
for(let d=1; d<=lastDay; d++) {
const dayDate = new Date(year, month, d);
daysGrid.appendChild(createDayElement(d, dayDate, true));
}
// Fill next month days to complete 6 weeks grid if needed
const totalCells = daysGrid.children.length;
for(let i=1; i <= (42 - totalCells); i++) {
const d = new Date(year, month+1, i);
daysGrid.appendChild(createDayElement(d.getDate(), d, false));
}
}

function showReservationForm(dateStr) {
dateInput.value = dateStr;
resFormContainer.style.display = 'block';
// Scroll to form smoothly
resFormContainer.scrollIntoView({behavior:'smooth'});
}

function validatePhone(phone) {
const re = /^\+?\d{6,15}$/;
return re.test(phone);
}

reservationForm.addEventListener('submit', (e) => {
e.preventDefault();
// Basic validation
const lastname = reservationForm.lastname.value.trim();
const firstname = reservationForm.firstname.value.trim();
const email = reservationForm.email.value.trim();
const phone = reservationForm.phone.value.trim();
const date = reservationForm.date.value.trim();
const location = reservationForm.location.value.trim();
const packageVal = reservationForm.package.value;

if (!lastname || !firstname || !email || !phone || !date || !location || !packageVal) {
alert('Veuillez remplir tous les champs obligatoires.');
return;
}
// Simple email and phone validation
if (!/\S+@\S+\.\S+/.test(email)) {
alert('Veuillez entrer un email valide.');
return;
}
if (!validatePhone(phone)) {
alert('Veuillez entrer un numéro de téléphone valide (ex: +33612345678).');
return;
}

// Simulate submission
alert(
`Réservation confirmée pour le ${date}:\n` +
`Nom: ${lastname} ${firstname}\n` +
`Email: ${email}\n` +
`Téléphone: ${phone}\n` +
`Lieu: ${location}\n` +
`Forfait: ${packageVal}`
);
reservationForm.reset();
resFormContainer.style.display = 'none';
selectedDate = null;
updateCalendar();
});

prevMonthBtn.addEventListener('click', () => {
currentDate.setMonth(currentDate.getMonth() - 1);
updateCalendar();
resFormContainer.style.display = 'none';
selectedDate = null;
});
nextMonthBtn.addEventListener('click', () => {
currentDate.setMonth(currentDate.getMonth() + 1);
updateCalendar();
resFormContainer.style.display = 'none';
selectedDate = null;
});

// Initialize calendar
updateCalendar();
})();
</script>
</body>
</html>